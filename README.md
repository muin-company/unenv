# unenv ğŸ”

> AI-powered .env file manager - scan, validate, and generate environment variable configurations

Stop manually maintaining `.env.example` files. Let `unenv` automatically detect environment variables from your codebase, generate documented examples, and validate your configuration.

## âœ¨ Features

- ğŸ” **Auto-detection** - Scans your codebase for environment variables
- ğŸŒ **Multi-language** - Supports Node.js, Python, Ruby, Go, PHP
- ğŸ“ **Smart generation** - Creates `.env.example` with categories and helpful comments
- âœ… **Validation** - Checks for missing or unused variables
- ğŸ¯ **Usage tracking** - Shows exactly where each variable is used (file:line)
- ğŸ”’ **Safety checks** - Warns if `.env` isn't in `.gitignore`
- ğŸ¨ **Beautiful output** - Color-coded, developer-friendly CLI

## ğŸ“¦ Installation

```bash
npm install -g unenv
```

Or use without installing:

```bash
npx unenv scan
```

## ğŸš€ Quick Start

```bash
# Scan your project
unenv scan

# Generate .env.example
unenv generate

# Check for missing variables
unenv check
```

## ğŸ“– Usage

### `unenv scan`

Scan your codebase for environment variables and compare with your `.env` file.

```bash
$ unenv scan

âœ“ Analyzed 42 files
âœ“ Found 12 environment variables

Missing from .env (3):
  â€¢ DATABASE_URL
    Used in src/db.js:15
  â€¢ API_KEY
    Used in src/api.js:8
  â€¢ REDIS_HOST
    Used in src/cache.js:23

âœ“ Found in .env (9):
  PORT, NODE_ENV, JWT_SECRET, ...
```

**Options:**
- `-d, --dir <directory>` - Directory to scan (default: current)
- `-i, --ignore <patterns>` - Comma-separated ignore patterns
- `--json` - Output as JSON
- `-v, --verbose` - Show detailed output with all locations

### `unenv generate`

Generate a documented `.env.example` file with smart categorization.

```bash
$ unenv generate

âœ“ Analyzed 42 files
âœ“ Created .env.example with 12 variables

Preview:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Generated by unenv
# 2024-01-15T10:30:00.000Z

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Database
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Database connection string (URL format)
# Used in: src/db.js
DATABASE_URL=

...
```

**Options:**
- `-d, --dir <directory>` - Directory to scan
- `-o, --output <file>` - Output file (default: `.env.example`)
- `-i, --ignore <patterns>` - Comma-separated ignore patterns
- `--no-categorize` - Don't group by category

**Generated categories:**
- ğŸ—„ï¸ Database
- ğŸ”‘ Authentication
- ğŸŒ API & Services
- â˜ï¸ Cloud & Infrastructure
- âš™ï¸ Application
- ğŸ“§ Email & Communication
- ğŸ’³ Payment

### `unenv check`

Validate your environment configuration - find missing and unused variables.

```bash
$ unenv check

âœ“ Configuration checked

Environment Configuration Report
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Summary:
  Required variables: 12
  Configured: 10
  Missing: 2
  Unused: 3

âŒ Missing Variables (2):
These are used in your code but not defined in .env

  â€¢ API_KEY
    Category: API & Services
    Used in: src/api.js:8

  â€¢ REDIS_HOST
    Category: Database
    Used in: src/cache.js:23

âš  Unused Variables (3):
These are in .env but not used in your code

  â€¢ OLD_API_KEY
  â€¢ LEGACY_DB_URL
  â€¢ UNUSED_TOKEN
```

**Options:**
- `-d, --dir <directory>` - Directory to scan
- `-e, --env <file>` - Env file to check (default: `.env`)
- `-i, --ignore <patterns>` - Comma-separated ignore patterns
- `--strict` - Exit with error if issues found (for CI/CD)

## ğŸ¯ Supported Languages & Patterns

### JavaScript/TypeScript
```javascript
process.env.API_KEY
process.env['DATABASE_URL']
```

### Python
```python
os.getenv('API_KEY')
os.environ['DATABASE_URL']
os.environ.get('REDIS_HOST')
```

### Ruby
```ruby
ENV['API_KEY']
ENV.fetch('DATABASE_URL')
```

### Go
```go
os.Getenv("API_KEY")
```

### PHP
```php
getenv('API_KEY')
$_ENV['DATABASE_URL']
$_SERVER['REDIS_HOST']
```

## ğŸ”§ Advanced Usage

### Ignore Patterns

```bash
# Ignore test files and specific directories
unenv scan --ignore "tests,__tests__,*.test.js"
```

### JSON Output

```bash
# Get machine-readable output
unenv scan --json > env-report.json
```

### CI/CD Integration

```bash
# Fail build if environment is misconfigured
unenv check --strict

# Exit code 1 if missing variables found
```

### Multiple Environment Files

```bash
# Check production environment
unenv check --env .env.production

# Generate separate examples
unenv generate --output .env.staging.example
```

## ğŸ’¡ Best Practices

1. **Commit `.env.example`** - Share structure with your team
2. **Never commit `.env`** - Keep secrets secret
3. **Run `unenv check` in CI** - Catch missing vars early
4. **Update regularly** - Re-run after adding new features
5. **Review unused vars** - Clean up old configuration

## ğŸ›¡ï¸ Security

- `unenv` only reads your code - never modifies `.env` files
- Automatically checks if `.env` is in `.gitignore`
- Highlights sensitive variables (secrets, keys, passwords)
- Never logs or transmits actual environment values

## ğŸ¤ Contributing

Contributions welcome! This is an open-source project.

```bash
# Clone and setup
git clone https://github.com/yourusername/unenv.git
cd unenv
npm install

# Run tests
npm test

# Try it locally
npm link
unenv scan
```

## ğŸ“ Example Output

Here's what `unenv` generates for a typical project:

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Database
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Database connection string (URL format)
# Used in: src/db.js
DATABASE_URL=

# Redis host for caching
# Used in: src/cache.js
REDIS_HOST=

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Authentication
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Authentication credential - keep secret! - DO NOT COMMIT!
# Used in: src/auth.js
JWT_SECRET=

# API key for external service - keep secret! - DO NOT COMMIT!
# Used in: src/api.js
API_KEY=

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Application
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Environment: development | production | test
# Used in: src/config.js
NODE_ENV=

# Application configuration (number)
# Used in: src/server.js
PORT=
```

## ğŸ¨ Why unenv?

Managing environment variables is tedious:
- âŒ Manually maintaining `.env.example` gets outdated
- âŒ New developers don't know what variables are needed
- âŒ Forgetting to add a variable breaks production
- âŒ No visibility into where variables are used

With `unenv`:
- âœ… Auto-detect variables from code
- âœ… Always up-to-date documentation
- âœ… Onboard new devs instantly
- âœ… Catch missing config in CI
- âœ… See usage across codebase

## ğŸ“„ License

MIT Â© 2024

---

**Made with â¤ï¸ for developers who hate manual config**

Stop maintaining `.env.example` by hand. Let AI do it for you.
